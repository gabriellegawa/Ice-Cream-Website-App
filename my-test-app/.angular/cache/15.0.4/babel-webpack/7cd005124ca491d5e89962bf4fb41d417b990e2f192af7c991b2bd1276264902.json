{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../app-service.service\";\nimport * as i2 from \"../../_services/storage.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../users/update-user-form/update-user-form.component\";\nfunction ProductGalleryComponent_div_2_app_update_user_form_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-update-user-form\", 3);\n    i0.ɵɵlistener(\"on-submit\", function ProductGalleryComponent_div_2_app_update_user_form_15_Template_app_update_user_form_on_submit_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.commitEdit($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"user\", user_r1);\n  }\n}\nfunction ProductGalleryComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, ProductGalleryComponent_div_2_app_update_user_form_15_Template, 1, 1, \"app-update-user-form\", 1);\n    i0.ɵɵelementStart(16, \"button\");\n    i0.ɵɵtext(17, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProductGalleryComponent_div_2_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const user_r1 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.editUser(user_r1));\n    });\n    i0.ɵɵtext(19, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\");\n    i0.ɵɵtext(21, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function ProductGalleryComponent_div_2_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onCancel());\n    });\n    i0.ɵɵtext(23, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Number: \", i_r2 + 1, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"first Name \", user_r1.firstName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"last Name \", user_r1.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Email address \", user_r1.emailAddress, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Phone Number \", user_r1.phoneNumber, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Date of Birth \", user_r1.dateOfBirth, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"postal Code \", user_r1.password, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.userToEdit == user_r1);\n  }\n}\nexport class ProductGalleryComponent {\n  constructor(service, storageService, router) {\n    this.service = service;\n    this.storageService = storageService;\n    this.router = router;\n    this.userList = [];\n  }\n  ngOnInit() {\n    if (!this.storageService.isLoggedIn()) {\n      this.router.navigate([\"user-login-form\"]);\n    } else {\n      this.getUserList();\n    }\n  }\n  getUserList() {\n    this.service.getUserList().subscribe(Response => {\n      this.userList = Response;\n      console.log('Response from API', Response);\n    }, error => {\n      console.error('error', Response);\n    });\n  }\n  editUser(u) {\n    console.log(u);\n    this.userToEdit = u;\n  }\n  commitEdit(u) {\n    //Commit to the database\n    this.ngOnInit();\n    // console.log(u)\n    window.location.reload();\n    this.userToEdit = undefined;\n  }\n  onCancel() {\n    this.userToEdit = undefined;\n  }\n}\nProductGalleryComponent.ɵfac = function ProductGalleryComponent_Factory(t) {\n  return new (t || ProductGalleryComponent)(i0.ɵɵdirectiveInject(i1.AppServiceService), i0.ɵɵdirectiveInject(i2.StorageService), i0.ɵɵdirectiveInject(i3.Router));\n};\nProductGalleryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductGalleryComponent,\n  selectors: [[\"app-product-gallery\"]],\n  decls: 3,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [3, \"user\", \"on-submit\", 4, \"ngIf\"], [3, \"click\"], [3, \"user\", \"on-submit\"]],\n  template: function ProductGalleryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Welcome to product gallery\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, ProductGalleryComponent_div_2_Template, 25, 8, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.userList);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.UpdateUserFormComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IASIA,+CAAgG;IAAjCA;MAAAA;MAAA;MAAA,OAAaA,wCAAkB;IAAA,EAAC;IAACA,iBAAuB;;;;IAAtEA,8BAAa;;;;;;IARlEA,2BAA+C;IACxCA,YAAiB;IAAAA,iBAAI;IACxBA,yBAAG;IAAAA,YAA+B;IAAAA,iBAAI;IACtCA,yBAAG;IAAAA,YAA6B;IAAAA,iBAAI;IACpCA,yBAAG;IAAAA,YAAqC;IAAAA,iBAAI;IAC5CA,yBAAG;IAAAA,aAAmC;IAAAA,iBAAI;IAC1CA,0BAAG;IAAAA,aAAoC;IAAAA,iBAAI;IAC3CA,0BAAG;IAAAA,aAA+B;IAAAA,iBAAI;IACtCA,kHAAuH;IACvHA,+BAAQ;IAAAA,qBAAI;IAAAA,iBAAS;IACrBA,kCAAiC;IAAzBA;MAAA;MAAA;MAAA;MAAA,OAASA,uCAAc;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;IAChDA,+BAAQ;IAAAA,uBAAM;IAAAA,iBAAS;IACvBA,kCAA6B;IAArBA;MAAAA;MAAA;MAAA,OAASA,gCAAU;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;IAC5CA,sBAAI;IACRA,iBAAM;;;;;;IAbCA,eAAiB;IAAjBA,+CAAiB;IACjBA,eAA+B;IAA/BA,2DAA+B;IAC/BA,eAA6B;IAA7BA,yDAA6B;IAC7BA,eAAqC;IAArCA,iEAAqC;IACrCA,eAAmC;IAAnCA,+DAAmC;IACnCA,eAAoC;IAApCA,gEAAoC;IACpCA,eAA+B;IAA/BA,2DAA+B;IACXA,eAAwB;IAAxBA,mDAAwB;;;ACEnD,OAAM,MAAOC,uBAAuB;EAIlCC,YAAoBC,OAA2B,EAAUC,cAA6B,EAAUC,MAAa;IAAzF,YAAO,GAAPF,OAAO;IAA8B,mBAAc,GAAdC,cAAc;IAAyB,WAAM,GAANC,MAAM;IAFtG,aAAQ,GAAU,EAAE;EAE6F;EAEjHC,QAAQ;IACN,IAAI,CAAC,IAAI,CAACF,cAAc,CAACG,UAAU,EAAE,EAAE;MACrC,IAAI,CAACF,MAAM,CAACG,QAAQ,CAAC,CAAC,iBAAiB,CAAC,CAAC;KAC1C,MACI;MACH,IAAI,CAACC,WAAW,EAAE;;EAEtB;EAEAA,WAAW;IACT,IAAI,CAACN,OAAO,CAACM,WAAW,EAAE,CAACC,SAAS,CAAEC,QAAQ,IAAI;MAChD,IAAI,CAACC,QAAQ,GAAGD,QAAQ;MACxBE,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEH,QAAQ,CAAC;IAC5C,CAAC,EAAGI,KAAK,IAAG;MACVF,OAAO,CAACE,KAAK,CAAC,OAAO,EAACJ,QAAQ,CAAC;IACjC,CAAC,CAAC;EACJ;EAEAK,QAAQ,CAACC,CAAM;IACbJ,OAAO,CAACC,GAAG,CAACG,CAAC,CAAC;IACd,IAAI,CAACC,UAAU,GAACD,CAAC;EACnB;EAEAE,UAAU,CAACF,CAAM;IACf;IAEA,IAAI,CAACX,QAAQ,EAAE;IAEf;IACAc,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAExB,IAAI,CAACJ,UAAU,GAACK,SAAS;EAC3B;EAEAC,QAAQ;IAEN,IAAI,CAACN,UAAU,GAACK,SAAS;EAC3B;;;mBA3CWtB,uBAAuB;AAAA;;QAAvBA,uBAAuB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDXpC7B,0BAAI;MAAAA,0CAA0B;MAAAA,iBAAK;MACnCA,yEAcM;;;MAdgBA,eAAa;MAAbA,sCAAa","names":["i0","ProductGalleryComponent","constructor","service","storageService","router","ngOnInit","isLoggedIn","navigate","getUserList","subscribe","Response","userList","console","log","error","editUser","u","userToEdit","commitEdit","window","location","reload","undefined","onCancel","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Gabriel Legawa\\OneDrive\\Documents\\Programming\\Projects\\Ice Cream Website App\\my-test-app\\src\\app\\products\\product-gallery\\product-gallery.component.html","C:\\Users\\Gabriel Legawa\\OneDrive\\Documents\\Programming\\Projects\\Ice Cream Website App\\my-test-app\\src\\app\\products\\product-gallery\\product-gallery.component.ts"],"sourcesContent":["<h1>Welcome to product gallery</h1>\n<div *ngFor=\"let user of userList; index as i\">\n    <p>Number: {{ i+1 }}</p>\n    <p>first Name {{ user.firstName }}</p>\n    <p>last Name {{ user.lastName }}</p>\n    <p>Email address {{ user.emailAddress }}</p>\n    <p>Phone Number {{ user.phoneNumber }}</p>\n    <p>Date of Birth {{ user.dateOfBirth }}</p>\n    <p>postal Code {{ user.password }}</p>\n    <app-update-user-form *ngIf=\"userToEdit == user\" [user]=\"user\" (on-submit)=\"commitEdit($event)\"></app-update-user-form>\n    <button>View</button>\n    <button (click)=\"editUser(user)\">Update</button>\n    <button>Delete</button>\n    <button (click)=\"onCancel()\">Cancel</button>\n    <hr>\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AppServiceService } from '../../app-service.service';\r\nimport { User } from '../../models/user';\r\nimport { StorageService } from '../../_services/storage.service';\r\n\r\n@Component({\r\n  selector: 'app-product-gallery',\r\n  templateUrl: './product-gallery.component.html',\r\n  styleUrls: ['./product-gallery.component.scss']\r\n})\r\nexport class ProductGalleryComponent implements OnInit {\r\n\r\n  userList:User[] = []\r\n  userToEdit?:User\r\n  constructor(private service : AppServiceService, private storageService:StorageService, private router:Router) { }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.storageService.isLoggedIn()) {\r\n      this.router.navigate([\"user-login-form\"])\r\n    }\r\n    else {\r\n      this.getUserList()\r\n    }\r\n  }\r\n\r\n  getUserList(){\r\n    this.service.getUserList().subscribe((Response) => {\r\n      this.userList = Response;\r\n      console.log('Response from API', Response)\r\n    }, (error)=> {\r\n      console.error('error',Response)\r\n    })\r\n  }\r\n\r\n  editUser(u:User){\r\n    console.log(u)\r\n    this.userToEdit=u\r\n  }\r\n\r\n  commitEdit(u:User){\r\n    //Commit to the database\r\n\r\n    this.ngOnInit();\r\n\r\n    // console.log(u)\r\n    window.location.reload();\r\n\r\n    this.userToEdit=undefined\r\n  }\r\n\r\n  onCancel(){\r\n    \r\n    this.userToEdit=undefined\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}